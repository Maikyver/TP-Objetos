import Musico.*
import Presentacion.*
import Album.*
import Cancion.*

describe "Tests" {
	
	const joaquin
	const lucia

	const luisalberto
	
	const presentacionLunaPark 
	const presentacionLaTrastienda
	
	const albumLaFamilia 

	const albumParaLosArboles
	const albumJustCrisantemo
	
	const laFamilia

	const cisne
	const almaDeDiamante
	const crisantemo
	
	fixture{
		
	
	joaquin = new Musico( new MusicoDeGrupo(5),20,[albumLaFamilia])
	lucia = new Musico(new VocalistaPopular("familia"),70,[])
	luisalberto = new Musico( new MusicoComoLuisAlberto(),0,[albumParaLosArboles,albumJustCrisantemo])
	
	
 	presentacionLunaPark = new Presentacion()
	presentacionLunaPark.fechaPresentacion (20,04,2017)
	
	presentacionLaTrastienda = new Presentacion()
	presentacionLaTrastienda.fechaPresentacion (15,11,2017)
	
	albumLaFamilia = new Album("La Familia",[laFamilia],[17,06,1992],100000,8900)
	albumParaLosArboles = new Album("Para los Arboles",[cisne,almaDeDiamante],[31,03,2003],50000,49000)
	albumJustCrisantemo = new Album("Just Crisantemo",[crisantemo],[05,12,2007],28000,27500)

	
	laFamilia = new Cancion("La Familia" , "Quiero brindar por mi gente sencilla, por el amor brindo por la familia",264)
	cisne = new Cancion("Cisne","Hoy el viento se abrió quedó vacío el aire una vez más y el manantial brotó y nadie está aquí y puedo ver que solo estallan las hojas al brillar",312)
	almaDeDiamante = new Cancion("Alma de Diamante","Ven a mí con tu dulce luz alma de diamante. Y aunque el sol se nuble después sos alma de diamante. Cielo o piel silencio o verdad sos alma de diamante. Por eso ven así con la humanidad alma de diamante",216)	
	crisantemo = new Cancion("Crisantemo","Tócame junto a esta pared, yo quede por aquí... cuando no hubo más luz... quiero mirar a través de mi piel... Crisantemo, que se abrió... encuentra el camino hacia el cielo",175)
	
	
}

test "1.La habilidad de Joaquin en grupo es 25" {

	assert.equals(joaquin.tuHabilidad(), 25)

}
test "2.La habilidad de Joaquin como solista es 20" {

 joaquin.tipoDeMusico(new VocalistaPopular("lala"))
	assert.equals(joaquin.tuHabilidad(), 20)

}
test "3.La habilidad de Lucia en grupo es 50" {
	lucia.tipoDeMusico(new MusicoDeGrupo(-20))

	assert.equals(lucia.tuHabilidad(), 50)

}
test "4.La habilidad de Lucia como solista es 70" {

	assert.equals(lucia.tuHabilidad(), 70)

}
test "5.La habilidad de Luis Alberto tocando con la fender es 80" {

	luisalberto.tipoDeMusico().guitarra(fender)
	assert.equals(luisalberto.tuHabilidad(), 80)

}
test "6.La habilidad de Luis Alberto tocando con la gibson sana es 100" {

	gibson.arreglate()
	luisalberto.tipoDeMusico().guitarra(gibson)
	assert.equals(luisalberto.tuHabilidad(), 100)

}
test "7.La habilidad de Luis Alberto tocando con la fender rota es 40" {
	
	gibson.rompete()
	luisalberto.tipoDeMusico().guitarra(gibson)
	assert.equals(luisalberto.tuHabilidad(),40)
}
test "8.Joaquín  NO interpreta bien la canción “La Familia”"{
	
	assert.notThat(joaquin.interpretasBien(laFamilia))
	
}
test "9.Joaquín NO interpreta bien la canción “Cisne”" {
	
	assert.notThat(joaquin.interpretasBien(cisne))
}

test "10.Lucía interpreta bien la canción “La Familia”" {
	
	assert.that(lucia.interpretasBien(laFamilia))
	
}

test "11.Queremos saber si Lucía interpreta bien la canción “Cisne”" {
	
	assert.that(lucia.interpretasBien(cisne))
}

test "12.Luis Alberto interpreta bien la canción “La Familia”" {
	
	assert.that(luisalberto.interpretasBien(laFamilia))
}

test "13.Luis Alberto interpreta bien la canción “Cisne”" {
	
	assert.that(luisalberto.interpretasBien(cisne))
}

test "14.Joaquín cobra 50 por la presentación del Luna Park"
 {
	assert.equals(joaquin.cobras(presentacionLunaPark),50)
}
test "15.Joaquín, presentandoce solo, cobra 100 por la presentación de la trastienda del 15/11/17 "
 {
 	presentacionLaTrastienda.sePresentan([joaquin])
	assert.equals(joaquin.cobras(presentacionLunaPark),100)
}
test "16.La capacidad de La trastienda para el 05 de Agosto del 2017 es de 700"
 {
	assert.that(false)
}
test "17.La capacidad de La trastienda para el 08 de Agosto del 2017 es de 400"
 {
	assert.that(false)
}
test "18.Lucía cobra $500 por la presentación del Luna Park"
 {
	assert.equals(lucia.cobras(presentacionLunaPark),500)
}
test "19.Lucía cobra $400 por la presentación del Trastienda"
 {
	assert.equals(lucia.cobras(presentacionLaTrastienda),400)
}
test "20.Luis Alberto cobra $1000 por la presentación del Luna Park"
 {
	assert.equals(luisalberto.cobras(presentacionLunaPark),1000)
}
test "21.Luis Alberto cobra $1200 por la presentación del Trastienda"
 {
	assert.equals(luisalberto.cobras(presentacionLaTrastienda),1200)
}
test "22.El costo de la presentación del Luna Park es $1550"
 {
 	assert.equals(presentacionLunaPark.getsePresentan().sum({persona => persona.cobras(presentacionLunaPark)}),1550)
	
}
test "23.El costo de la presentación de La Trastienda el 15/11/2017 es $1650"
 {
	assert.equals(presentacionLunaPark.getsePresentan().sum({persona => persona.cobras(presentacionLaTrastienda)}),1650)
}


}

